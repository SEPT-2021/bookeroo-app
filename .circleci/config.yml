version: 2.1
orbs:
  maven: circleci/maven@1.2.0

jobs:
  build:
    docker:
      - image: cimg/openjdk:8.0.292-browsers
    working_directory: ~/project/backend/microservice-book
    steps:
      - checkout
      - run:
          name: pwd
          command: pwd
      
      - run:
          name: mvnw clean
          command: ./mvnw clean

      - run:
          name: mvnw install
          command: ./mvnw install

workflows:
    example-workflow:
      jobs:
        - build
        - maven/test:
            app_src_directory: backend/microservice-book 
            test_results_path: backend/microservice-book/target/surefire-reports 
