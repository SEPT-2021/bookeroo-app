version: 2.1

executors:
  j8:
    docker:
      - image: 'cimg/openjdk:8.0.292'

orbs:
  maven: circleci/maven@1.2.0

workflows:
    microservice_book:
      jobs:
        - maven/test:
            executor: j8
            app_src_directory: backend/microservice-book
            test_results_path: backend/microservice-book/target/surefire-reports

    microservice_login:
      jobs:
        - maven/test:
            executor: j8
            app_src_directory: backend/microservice-login
            test_results_path: backend/microservice-login/target/surefire-reports
